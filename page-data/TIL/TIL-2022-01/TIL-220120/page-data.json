{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/TIL/TIL-2022-01/TIL-220120/",
    "result": {"data":{"cur":{"id":"b7c25516-0067-560b-b681-035ba0abe3ce","html":"<h2 id=\"장고django-authentication-사용-해-보기\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EA%B3%A0django-authentication-%EC%82%AC%EC%9A%A9-%ED%95%B4-%EB%B3%B4%EA%B8%B0\" aria-label=\"장고django authentication 사용 해 보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장고(Django) Authentication 사용 해 보기</h2>\n<h3 id=\"1-세팅\" style=\"position:relative;\"><a href=\"#1-%EC%84%B8%ED%8C%85\" aria-label=\"1 세팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 세팅</h3>\n<p>Django프로젝트를 처음 만들면 admin 페이지가 이미 구축이 되어 제공되어 진다. 그래서 우리는 <code class=\"language-text\">admin계정</code>을 만든 후 로그인을 하면 해당 페이지를 이용할 수 있다. 여기서 ’<code class=\"language-text\">admin계정</code> 을 만들 수 있다?’ 그렇다. 이미 DB에 유저를 생성할 수 있는 모델이 있다라는 것이다. 우리는 그 모델의 각 필드와 제약조건을 <code class=\"language-text\">클래스 상속</code>으로 그대로 가져와 새로운 유저 모델을 만들 수 있다. (패스워드 암호화에 대한 코드를 따로 작성할 필요도 없고, 로그인 인증도 쉽게 할 수 있다)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#user/models.py</span>\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> models\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> AbstractUser\n\n\n<span class=\"token comment\"># Create your models here.</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UserModel</span><span class=\"token punctuation\">(</span>AbstractUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        db_table <span class=\"token operator\">=</span> <span class=\"token string\">\"my_user\"</span>\n\n    bio <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">256</span><span class=\"token punctuation\">,</span> default<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 제공된 필드 외에 필요한 필드는 추가 작성해줘야 한다</span></code></pre></div>\n<p>프로젝트명과 같은 이름의 앱 폴더 안에 있는 <code class=\"language-text\">setting.py</code> 에 아래의 코드를 추가 해줘야 한다.<br>\n기본 인증과정(AUTH_USER_MODEL)을 user앱에 작성한 UserModel로 사용하겠다는 의미 입니다. (기본적으로 장고(Django)는 <code class=\"language-text\">auth_user</code>룰 사용자 관리 테이블로 지정해 놓음)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\nAUTH_USER_MODEL <span class=\"token operator\">=</span> <span class=\"token string\">'user.UserModel'</span> <span class=\"token comment\"># user앱에 내가 만든 UserModel</span></code></pre></div>\n<h3 id=\"2-활용하기\" style=\"position:relative;\"><a href=\"#2-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"2 활용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 활용하기</h3>\n<ul>\n<li>로그인</li>\n</ul>\n<p><code class=\"language-text\">auth.authenticate</code>로 db에 id,password값이 맞는 인증할 수 있다.\n<code class=\"language-text\">auth.login()</code>으로 인증정보 생성한다(로그인).</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib <span class=\"token keyword\">import</span> auth\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\"># 유효한(로그인) 유저 인증 (입력받은 패스워드를 암호화하여 비교할 필요 없음)</span>\nme <span class=\"token operator\">=</span> auth<span class=\"token punctuation\">.</span>authenticate<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> username<span class=\"token operator\">=</span>username<span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span>password<span class=\"token punctuation\">)</span> \n<span class=\"token keyword\">if</span> me <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n    auth<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> me<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 로그인</span>\n    <span class=\"token keyword\">return</span> something  \n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> something</code></pre></div>\n<hr>\n<ul>\n<li>유효한(로그인 한) 유저 인지 확인</li>\n</ul>\n<p><code class=\"language-text\">request.user.is_authenticated</code>를 통해서 로그인 유저인지 판단할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">user <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>is_authenticated\n<span class=\"token keyword\">if</span> user<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 유효한 유저</span>\n    <span class=\"token comment\"># do something</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 유효하지 않은 유저</span>\n    <span class=\"token comment\"># do something</span></code></pre></div>\n<hr>\n<ul>\n<li>로그아웃</li>\n</ul>\n<p><code class=\"language-text\">@login_required</code> 어노테이션으로 로그인 한 유저만 아래 함수를 호출 가능하게 한다.<br>\n<code class=\"language-text\">auth.logout</code> 으로 인증정보 없앤다(로그아웃)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> login_required\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib <span class=\"token keyword\">import</span> auth\n\n<span class=\"token decorator annotation punctuation\">@login_required</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">logout</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\t\tauth<span class=\"token punctuation\">.</span>logout<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 인증 되어있는 정보를 없애기</span>\n    <span class=\"token keyword\">return</span> something</code></pre></div>\n<hr>\n<p>관련하여 더 많은 정보는 아래에서 찾아보자!<br>\n<a href=\"https://docs.djangoproject.com/en/4.0/topics/auth/customizing/#substituting-a-custom-user-model\">Substituting a custom User model</a><br>\n<a href=\"https://docs.djangoproject.com/en/4.0/topics/auth/default/#using-the-django-authentication-system\">Using the Django authentication system</a></p>\n<h2 id=\"총평\" style=\"position:relative;\"><a href=\"#%EC%B4%9D%ED%8F%89\" aria-label=\"총평 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>총평</h2>\n<ul>\n<li>장고(Django)에서 제공한 AbstractUser클래스로 나만의 유저모델을 만들고, Authentication기능을 사용하여 로그인, 로그아웃, 유효한 유저인지 확인하는 기능 등을 쉽게 구현 할 수 있었다.</li>\n<li>아직은 익숙치 않지만, 친절한(?) 장고(Django)랑 친하게 지냈으면 좋겠다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%9E%A5%EA%B3%A0django-authentication-%EC%82%AC%EC%9A%A9-%ED%95%B4-%EB%B3%B4%EA%B8%B0\">장고(Django) Authentication 사용 해 보기</a></p>\n<ul>\n<li><a href=\"#1-%EC%84%B8%ED%8C%85\">1. 세팅</a></li>\n<li><a href=\"#2-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\">2. 활용하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B4%9D%ED%8F%89\">총평</a></p>\n</li>\n</ul>\n</div>","excerpt":"장고(Django) Authentication 사용 해 보기 1. 세팅 Django프로젝트를 처음 만들면 admin 페이지가 이미 구축이 되어 제공되어 진다. 그래서 우리는 을 만든 후 로그인을 하면 해당 페이지를 이용할 수 있다. 여기서 ’ 을 만들 수 있다?’ 그렇다. 이미 DB에 유저를 생성할 수 있는 모델이 있다라는 것이다. 우리는 그 모델의 각 필드와 제약조건을 으로 그대로 가져와 새로운 유저 모델을 만들 수 있다. (패스워드 암호화에 대한 코드를 따로 작성할 필요도 없고, 로그인 인증도 쉽게 할 수 있다) 프로젝트명과 같은 이름의 앱 폴더 안에 있는  에 아래의 코드를 추가 해줘야 한다. 기본 인증과정(AUTH_USER_MODEL)을 user앱에 작성한 UserModel로 사용하겠다는 의미 입니다. (기본적으로 장고(Django)는 룰 사용자 관리 테이블로 지정해 놓음) 2. 활용하기 로그인 로 db에 id,password값이 맞는 인증할 수 있다.\n으로 인증정보 생성한…","frontmatter":{"date":"January 20, 2022","title":"Today I Learned - 220120","categories":"TIL DJANGO","author":"코딩쿠니","emoji":"🥐"},"fields":{"slug":"/TIL/TIL-2022-01/TIL-220120/"}},"next":{"id":"d7d5d61a-dea7-5de4-a13b-e859dc81c095","html":"<h2 id=\"장고django는-뭘까-\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EA%B3%A0django%EB%8A%94-%EB%AD%98%EA%B9%8C-\" aria-label=\"장고django는 뭘까  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장고(Django)는 뭘까? 🤔</h2>\n<p><code class=\"language-text\">장고(Django)</code>는 파이썬 웹 프레임워크 중 하나다. <a href=\"https://www.djangoproject.com/\">공식 홈페이지</a>를 살펴보면 함축적으로 이를 잘 설명하고 있다.</p>\n<blockquote>\n<p>The web framework for perfectionists with deadlines.<br>\nDjango makes it easier to build better web apps more quickly and with less code.</p>\n</blockquote>\n<p>(발번역중🥲) 마감시간 완벽하게 지키는 이를 위한 웹 프레임워크. <code class=\"language-text\">장고(Django)</code>는 더 적은 코드로 더 빠르고 좋은 웹 어플리케이션을 쉽게 만들어준다.</p>\n<p>지금까지 사용했던 <code class=\"language-text\">Flask</code>(경량 파이썬 웹 프레임워크)보다 더 많은 유틸(기능)들을 제공한다 ex) DB, 로그인, Admin, 패스워드 암호화 등.<br>\n그리고 대형 웹 프로젝트에 사용하기 적합하며, 커뮤니티와 문서가 다른 파이썬 웹프레임워크 보다는 잘 되어 있다.</p>\n<h2 id=\"장고django는-mtv패턴을-사용한다\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EA%B3%A0django%EB%8A%94-mtv%ED%8C%A8%ED%84%B4%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\" aria-label=\"장고django는 mtv패턴을 사용한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장고(Django)는 MTV패턴을 사용한다</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">Request<span class=\"token punctuation\">(</span>URL<span class=\"token punctuation\">)</span>       <span class=\"token operator\">-</span><span class=\"token operator\">></span>      <span class=\"token operator\">-</span><span class=\"token operator\">></span>            <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n                      View    Model<span class=\"token punctuation\">(</span>ORM<span class=\"token punctuation\">)</span>    DB\nResponse<span class=\"token punctuation\">(</span>Template<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span>            <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span></code></pre></div>\n<ul>\n<li>M (Model)\n<ul>\n<li>데이터베이스의 모델(ORM)</li>\n<li>저장되고 사용되는 데이터의 형태</li>\n</ul>\n</li>\n<li>T (Template)\n<ul>\n<li>사용자에게 보여지는 부분</li>\n<li>화면</li>\n</ul>\n</li>\n<li>V (View)\n<ul>\n<li>실질적으로 프로그램이 동작하는 부분</li>\n<li>url을 요청하고 응답하는 그 사이에 일어나는 ‘서비스’들이 존재하는 곳</li>\n</ul>\n</li>\n</ul>\n<p>++ ORM<br>\nPython으로 데이터베이스 클래스 모델을 만들고, 만든 모델로 데이터베이스를 다룰 수 있게 해준다. SQL문을 작성하지 않아도 된다.</p>\n<h2 id=\"총평-️\" style=\"position:relative;\"><a href=\"#%EC%B4%9D%ED%8F%89-%EF%B8%8F\" aria-label=\"총평 ️ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>총평 ☃️</h2>\n<ul>\n<li>눈이 조금 내린 오늘</li>\n<li>새로운 팀원들을 만났다. 우린 <code class=\"language-text\">코딩하긴 했었나요 스쳐지나가는 인연이었나요 함께했던 시간들이 자꾸 삼(3)조</code> 이다. 푸학ㅋㅋ 스파르타 역사상 가장 긴 조이름을 노려 보려 한다.</li>\n<li>Django를 학습하기 시작했다. 구조가 Flask에 비해 조금 복잡하지만 그 Flask를 해서 인지, 아직까지는 크게 어렵지 않은 것 같다.</li>\n<li>새로운 팀원들과 Django를 이용해 어떤 어플리케이션을 만들게 될 지 기대가 된다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%9E%A5%EA%B3%A0django%EB%8A%94-%EB%AD%98%EA%B9%8C-\">장고(Django)는 뭘까? 🤔</a></li>\n<li><a href=\"#%EC%9E%A5%EA%B3%A0django%EB%8A%94-mtv%ED%8C%A8%ED%84%B4%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\">장고(Django)는 MTV패턴을 사용한다</a></li>\n<li><a href=\"#%EC%B4%9D%ED%8F%89-%EF%B8%8F\">총평 ☃️</a></li>\n</ul>\n</div>","frontmatter":{"date":"January 19, 2022","title":"Today I Learned - 220119","categories":"TIL DJANGO","author":"코딩쿠니","emoji":"🍬"},"fields":{"slug":"/TIL/TIL-2022-01/TIL-220119/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://joong8812.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/TIL/TIL-2022-01/TIL-220120/","nextSlug":"/TIL/TIL-2022-01/TIL-220119/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}