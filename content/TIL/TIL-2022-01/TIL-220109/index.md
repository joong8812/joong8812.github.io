---
emoji: ğŸ”–
title: Today I Learned - 220109
date: '2022-01-09 18:00:00'
author: ì½”ë”©ì¿ ë‹ˆ
tags: TIL Python WebScraping
categories: TIL PYTHON WEBSCRAPING
---

## 1. ì»¨í…ŒìŠ¤íŠ¸ ë„ì „
ê³¼ì¼ì˜ˆì¸¡ ë”¥ëŸ¬ë‹ ëª¨ë¸(ê¸°ì¡´ Perceptron ëª¨ë¸ì„ Transfer Learning(ì „ì´í•™ìŠµ))ì„ í•™ìŠµì‹œí‚¤ëŠ” ë° êµ‰ì¥íˆ ì‹œê°„(ì•½ 8ì‹œê°„)ì´ ì˜¤ë˜ ê±¸ë ¤ ìˆ˜ì—…ì§„ë„ë¥¼ ëª»ë‚˜ê°€ë˜ ì°°ë‚˜ íŒ€ì› ì¤‘ í•œë¶„ì´ ê´€ì‹¬ìˆìœ¼ë©´ ìš”ëŸ° ì»¨í…ŒìŠ¤íŠ¸ í•œ ë²ˆ í•´ ë³´ë¼ê³  ë§í¬ë¥¼ ì£¼ì…¨ë‹¤.
[![ë…¸ë§ˆë“œì½”ë”_ì±„ìš©ë¦¬ìŠ¤íŠ¸_ì»¨í…ŒìŠ¤íŠ¸](./contest.png)](https://nomadcoders.co/community/thread/1623)
í•´ë‹¹ ì‚¬ì´íŠ¸ì—ì„œ `ë¬´ë£Œ`ë¡œ ì œê³µë˜ëŠ” ì›¹ìŠ¤í¬ë˜í•‘ ê°•ì˜ë¥¼ ë“£ê³  ì±„ìš©ë¦¬ìŠ¤íŠ¸ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ìŠ¤íŒŒë¥´íƒ€ì—ì„œ ë°°ìš´ ì›¹ìŠ¤í¬ë˜í•‘ì„ ë¦¬ë§ˆì¸ë“œ í•  ê²¸ í‹ˆë‚˜ëŠ”ëŒ€ë¡œ ì»¨í…ŒìŠ¤íŠ¸ì— ì œì¶œ í•  ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´ì•¼ê² ë‹¤.

## 2. ì‘ì—…í™˜ê²½
[Replit.com](https://replit.com/~) ë¼ëŠ” ê³³ì´ ìˆë‹¤. IDEê°€ ì›¹ë¸Œë¼ìš°ì €ì—ì„œ êµ¬ë™ ëœë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤. íŒŒì´ì¬ì„ ì‚¬ìš©í•˜ë ¤ë©´ íŒŒì´ì¬ ì„¤ì¹˜ ë° í™˜ê²½ë³€ìˆ˜ ì„¤ì • ë“±ì„ í•´ì•¼í•˜ëŠ”ë°, ì € ê³³ì—ì„  ì´ë¯¸ ì„¸íŒ…ì´ ë‹¤ ë˜ì–´ ìˆë‹¤. ê·¸ëƒ¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë§Œ ì„ íƒí•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤. ë¬¼ë¡  ë‚˜ëŠ” ì´ë¯¸ íŒŒì´ì¬ ê°œë°œí™˜ê²½ì´ ë‹¤ ê°–ì¶°ì ¸ ìˆì§€ë§Œ ê°•ì˜ ì‹¤ìŠµì—ì„œ ì•Œë ¤ì¤€ `Replit` ì‚¬ìš©í•´ë³´ê¸°ë¡œ í–ˆë‹¤.

## 3. indeed ìŠ¤í¬ë˜í•‘
ì¼ë¶€ëŸ¬ ê·¸ëŸ°ê±´ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ í•´ë‹¹ ê°•ì˜ê°€ ìµœì‹ í™”ê°€ ì•ˆë˜ì–´ìˆë‹¤. ê°•ì˜ ë…¹í™”í•  ë‹¹ì‹œì™€ ì§€ê¸ˆ indeedì˜ DOMêµ¬ì¡°, class ì´ë¦„ì´ ì¡°ê¸ˆì”© ë‹¤ë¥´ë‹¤. ê·¸ë˜ì„œ ê°•ì˜ëŒ€ë¡œ í•˜ë©´ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ìŠ¤í¬ë˜í•‘ í•  ìˆ˜ê°€ ì—†ë‹¤. ê·¸ë˜ì„œ í˜„ì¬ì— ë§ê²Œ ì˜ ì¡ì•„ì¤˜ì•¼ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. í˜„ì¬(2021. 01. 09 ê¸°ì¤€) ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì§œê²Œ ë˜ë©´ [indeed](https://www.indeed.com/jobs?q=python)ì—ì„œ íŒŒì´ì¬ìœ¼ë¡œ ê²€ìƒ‰ ì‹œ, ê° ê³µê³ ë‹¹ ì§ë¬´, íšŒì‚¬ì´ë¦„, íšŒì‚¬ìœ„ì¹˜, ìƒì„¸í˜ì´ì§€ë¥¼ ìŠ¤í¬ë˜í•‘ í•  ìˆ˜ ìˆë‹¤.
ì‚¬ìš©í•œ íŒŒì´ì¬ íŒ¨í‚¤ì§€ëŠ” requests, BeautifulSoup(bs4) ì´ë‹¤.
```python
import requests
from bs4 import BeautifulSoup

LIMIT = 50
URL = f"https://www.indeed.com/jobs?q=python&limit={LIMIT}" # í•œí˜ì´ì§€ì— 50ê°œ ê³µê³ ë¥¼ ë³´ì—¬ì¤˜ë¼ 


# ìœ„ URL ìš”ì²­ì‹œ ë§ˆì§€ë§‰ í˜ì´ì§€ êµ¬í•˜ê¸° 
def get_last_page():
  result = requests.get(URL)
  soup = BeautifulSoup(result.text, "html.parser")
  pagination = soup.find("div", {"class": "pagination"})

  links = pagination.find_all('a')
  pages = []
  for link in links[:-1]:
      pages.append(int(str(link.string)))

  max_page = pages[-1]
  return max_page


# ê° ê³µê³  ì¹´ë“œì—ì„œ ì§ë¬´, íšŒì‚¬ì´ë¦„, íšŒì‚¬ìœ„ì¹˜, ìƒì„¸í˜ì´ì§€ ì •ë³´ë¥¼ ë¦¬í„´
def extract_job(html):
  titles = html.find("h2", {"class": "jobTitle"})
  title = titles.contents[1].text if len(
      titles.contents) == 2 else titles.contents[0].text
  company = html.find("span", {"class": "companyName"}).text
  location = html.find("div", {"class": "companyLocation"}).contents[0].text
  if "location" in location:
      location = "Remote"
  job_id = html["data-jk"]
  return {
      'title': title,
      'company': company,
      'location': location,
      "link": f"https://www.indeed.com/viewjob?jk={job_id}"
  }


# ê° í˜ì´ì§€ì—ì„œ ê³µê³  ì •ë³´ ê°€ì ¸ì˜¨ í›„ ë¦¬ìŠ¤íŠ¸ì— ë‹´ê³  ë¦¬í„´
def extract_jobs(last_page):
  jobs = []
  for page in range(last_page):
    print(f"Scrapping page {page}")
    result = requests.get(f"{URL}&start={page*LIMIT}")
    soup = BeautifulSoup(result.text, "html.parser")
    results = soup.find_all("a", {"class": "tapItem"})
    for result in results:
        job = extract_job(result)
        jobs.append(job)
  return jobs


# ê³µê³ ì •ë³´ë¥¼ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ ë¦¬í„´
def get_jobs():
  last_page = get_last_page()
  jobs = extract_jobs(last_page)
  return jobs
  ```

## ì´í‰
* í•´ë‹¹í˜ì´ì§€ì—ì„œ í•„ìš”í•œ ì •ë³´ë§Œ ê°€ì ¸ì˜¤ë ¤ë©´ ê¼¼ê¼¼í•˜ê²Œ ì‚´í´ë³¼ ê²ƒì´ ë§ê³  ê°€ê³µì´ í•„ìš”í•¨ì„ ë°°ì›€
* BeautifulSoupì€ ì •ë§ ë·°í‹°í’€í•˜ë‹¤. ì›í•˜ëŠ” ë°ì´í„° ë½‘ê¸°ê°€ ì •ë§ ì¢‹ë‹¤.
* ì»¨í…ŒìŠ¤íŠ¸ 1ë“±í•˜ë©´ ê¸ˆ ì¤€ë‹¤ëŠ”ë°... 1ë“± í•´ë³´ê³  ì‹¶ë‹¤..
* ì´ê±° ëë‚˜ë©´ ë‹¤ë¥¸ ê²ƒë„ ìŠ¤í¬ë˜í•‘ í•´ë³¼ê¹Œ?

```toc
```