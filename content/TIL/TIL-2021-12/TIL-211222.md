---
emoji: ğŸ®
title: í„´ì œ RPG ê²Œì„ ë§Œë“¤ê¸° - íŒŒì´ì¬(Python)
date: '2021-12-22 21:00:00'
author: ìµœì¤‘ì¬(aziel)
tags: TIL Game Project
categories: TIL PROJECT
---

## í„´ì œ RPG ê²Œì„ ë§Œë“¤ê¸°

### 1. ê°œìš”

ë“œë””ì–´! ì–´ë¦´ ì  ë¶€í„° ì¢‹ì•„í–ˆë˜ `RPGê²Œì„`ì´ë‹¤. ë¬¼ë¡  ë‚´ê°€ ì§€ê¸ˆê¹Œì§€ í•´ ì˜¨ ê²ƒê³¼ ë¹„êµí•´ì„œëŠ” ì´ˆë¼í•œ ê²ƒì´ì§€ë§Œ, ì–´ë–»ê²Œ ëª¬ìŠ¤í„°ì™€ ì „íˆ¬ë¥¼ í•˜ëŠ” ì§€ ë‚´ê°€ ì§ì ‘ ê°œë°œì„ í•˜ë©° ë“¤ì—¬ë‹¤ ë³¼ ìˆ˜ê°€ ìˆë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ì— ì£¼ìš” í‚¤ëŠ” `í´ë˜ìŠ¤`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì‚¬ìš©ìì™€ ëª¬ìŠ¤í„°ê°„ 1:3 ëŒ€ê²°ì´ê³ , ì‚¬ìš©ìëŠ” ìì‹ ì˜ í„´ì— ì¼ë°˜ ê³µê²©ê³¼ ë§ˆë²•ê³µê²© 2ê°€ì§€ í–‰ë™ì„ í•  ìˆ˜ê°€ ìˆê³ , ëª¬ìŠ¤í„°ëŠ” íšŒë³µ, ëŒ€ê¸°, ê³µê²© 3ê°€ì§€ í–‰ë™ì„ í•  ìˆ˜ ìˆë‹¤. í„´ì œ ë°©ì‹ìœ¼ë¡œ ì „íˆ¬ê°€ ì§„í–‰ë˜ë©° ì‚¬ìš©ìê°€ ë¨¼ì € í–‰ë™ í•  ìˆ˜ ìˆë‹¤. ëª¨ë“  ëª¬ìŠ¤í„°ì˜ ì²´ë ¥ì´ 0 ì´ë©´ `ìŠ¹ë¦¬` ë°˜ëŒ€ì˜ ê²½ìš° `íŒ¨ë°°` ì´ë‹¤.

### 2. ë¡œì§

1ï¸âƒ£ ë¨¼ì € ì´ë¦„, ì²´ë ¥, ê³µê²©ë ¥ì„ ë©¤ë²„ë³€ìˆ˜ë¡œ, ìƒëŒ€ë°© ê³µê²© í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë©¤ë²„í•¨ìˆ˜ë¡œ ê°–ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ Objectë¥¼ ë§Œë“ ë‹¤. ì°¸, í˜„ì¬ ìì‹ ì˜ ì²´ë ¥ì„ ë³´ì—¬ì£¼ëŠ” í´ë˜ìŠ¤ ë‚´ì¥í•¨ìˆ˜ `__str__()`ë„ ì¨ë³´ì•˜ë‹¤.  
2ï¸âƒ£ Objectí´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  ë§ˆë²• ê³µê²©ì„ í•˜ëŠ” ë©¤ë²„ í•¨ìˆ˜ë¥¼ ê°–ëŠ” Playerí´ë˜ìŠ¤, ë§ˆì°¬ê°€ì§€ë¡œ Objectë¥¼ ë¶€ëª¨ë¡œ ìƒì†ë°›ê³  ëŒ€ê¸°, íšŒë³µì„ ë©¤ë²„ í•¨ìˆ˜ë¡œ ê°–ëŠ” Monsterí´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.  
3ï¸âƒ£ í˜„ì¬ ì „íˆ¬ ì¤‘ì¸ ê°ì²´ë“¤ì˜ ì²´ë ¥ í˜„í™©ì„ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤.  
4ï¸âƒ£ ì‚¬ìš©ìì˜ ì…ë ¥ì´ ì˜¬ë°”ë¥¸ì§€ ê²€ì¦í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë”°ë¡œ ë§Œë“ ë‹¤.(ì˜ˆì™¸ì²˜ë¦¬)  
5ï¸âƒ£ ì‚¬ìš©ì í„´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ëŒ€ë¡œ í–‰ë™í•˜ê²Œ í•œë‹¤.  
6ï¸âƒ£ ì‚¬ìš©ì í„´ ì´í›„ ëª¬ìŠ¤í„°ë“¤ì˜ ì²´ë ¥ ìƒí™©ì„ í™•ì¸í•¨ìˆ˜ë¥¼ í†µí•´ 0ì´í•˜ì¸ ê°ì²´ëŠ” ì „íˆ¬ê°€ëŠ¥ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°í•œë‹¤. ê·¸ë¦¬ê³  ëª¬ìŠ¤í„°ê°€ ëª‡ ë‚¨ì•˜ëŠ”ì§€ ë¦¬í„´í•œë‹¤.  
7ï¸âƒ£ ëª¬ìŠ¤í„° í„´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ê° ëª¬ìŠ¤í„°ê°€ ëœë¤ìœ¼ë¡œ 3ê°€ì§€(ê³µê²©, íšŒë³µ, ëŒ€ê¸°) ì¤‘ í•˜ë‚˜ì˜ í–‰ë™ì„ í•˜ê²Œ í•œë‹¤.  
8ï¸âƒ£ ëª¬ìŠ¤í„° í„´ ì´í›„ ì‚¬ìš©ìì˜ ì²´ë ¥ ìƒí™©ì„ íŒŒì•…í•˜ì—¬ ê²Œì„ ì¢…ë£Œ ìœ ë¬´ë¥¼ íŒë‹¨í•œë‹¤.  
9ï¸âƒ£ ì „ì²´ ì „íˆ¬ ê°€ëŠ¥ì ì²´ë ¥ ìƒí™© í”„ë¦°íŠ¸ -> ì‚¬ìš©ìí„´ -> ëª¬ìŠ¤í„° ì²´ë ¥ í™•ì¸ -> ëª¬ìŠ¤í„°í„´ -> ì‚¬ìš©ì ì²´ë ¥ í™•ì¸  
ğŸ”Ÿ ê²Œì„ ì¢…ë£Œ ì „ê¹Œì§€ í•´ë‹¹ ë‚´ìš©ì„ ë°˜ë³µí•œë‹¤.

### 3. ì½”ë“œ

```python
import random


class Object:
    def __init__(self, name, hp, attack_damage):
        self.name = name
        self.hp = hp
        self.attack_damage = attack_damage

    def get_name(self):
        return self.name

    def be_attacked(self, attack_damage):
        self.hp -= attack_damage

    def get_hp(self):
        return self.hp

    def set_hp(self, hp):
        self.hp = hp

    def get_attack_damage(self):
        return self.attack_damage

    def attack(self, target):
        print(f"[{self.get_name()}] (ì´)ê°€ [{target.name}] (ì„)ë¥¼ ì¼ë°˜ê³µê²©ì„ í–ˆë‹¤.")
        target.be_attacked(self.get_attack_damage())
        print(f"{target} (-{self.get_attack_damage()})")

    def __str__(self):
        msg = f"[{self.get_name()}] ì˜ HP : {self.get_hp()}" if self.get_hp() > 0 else f"[{self.get_name()}] (ì€)ëŠ” ì£½ì—ˆìŠµë‹ˆë‹¤."
        return msg


class Player(Object):
    def magic_attack(self, target):
        print(f"[{self.get_name()}] (ì´)ê°€ [{target.get_name()}] (ì„)ë¥¼ ë§ˆë²•ê³µê²©ì„ í–ˆë‹¤.")
        target.be_attacked(50)
        print(f"{target} (-50)")


class Monster(Object):
    def stay(self):
        print(f"[{self.get_name()}] (ì´)ê°€ ëŒ€ê¸°í–ˆìŠµë‹ˆë‹¤.")

    def heal(self):
        self.set_hp(self.get_hp() + 10)
        print(f"[{self.get_name()}] (ì´)ê°€ ìì‹ ì˜ ì²´ë ¥ì„ 10ë§Œí¼ íšŒë³µí–ˆë‹¤.")
        print(f"{self} (+10)")


def print_players_status(players):
    print("\n *********** ê° í”Œë ˆì´ì–´ì˜ í˜„ì¬ ìƒíƒœ ***********")
    for player in players:
        print(player)


def only_return_right_command(msg, num_range):
    user_input = ""
    while not user_input:
        try:
            user_input = int(input(msg))
            if not isinstance(user_input, int) or (user_input < 1 or user_input > num_range):
                raise ValueError
        except ValueError:
            print("ë³´ê¸°ì— ìˆëŠ” ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤")
            user_input = ""
    return user_input


def player_turn(players):
    attack_method = only_return_right_command("ì–´ë–»ê²Œ ê³µê²©í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (1.ì¼ë°˜ 2.ë§ˆë²•) ", 2)

    msg_for_who_attack = "ëˆ„êµ¬ë¥¼ ê³µê²©í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ("
    for i in range(1, len(players)):
        msg_for_who_attack += f"{i}.{players[i].get_name()} "
    msg_for_who_attack = msg_for_who_attack.strip()
    msg_for_who_attack += ") "
    attack_target = only_return_right_command(msg_for_who_attack, len(players)-1)

    players[0].attack(players[attack_target]) if attack_method == 1 else players[0].magic_attack(players[attack_target])

    return players


def check_monsters(players):
    for i in range(1, len(players)):
        monster = players[i]
        if monster.get_hp() <= 0:
            players.pop(i)
            break
    return len(players) - 1


def monsters_turn(players):
    player = players[0]
    for i in range(1, len(players)):
        monster = players[i]
        action = random.randrange(3)
        if action == 0:
            monster.attack(player)
        elif action == 1:
            monster.heal()
        else:
            monster.stay()
        print()
    return players


def check_player(player):
    alive = True
    if player.get_hp() <= 0:
        alive = False

    return alive


warrior = Player("ìµœì¤‘ì¬", 100, 10)
mini_goblin = Monster("ë¯¸ë‹ˆê³ ë¸”ë¦°", 10, 10)
goblin = Monster("ê³ ë¸”ë¦°", 30, 30)
super_goblin = Monster("ìŠˆí¼ê³ ë¸”ë¦°", 50, 50)

battle_players = [warrior, mini_goblin, goblin, super_goblin]

while True:
    print_players_status(battle_players)
    print("\n ************* í„´ ì‹œì‘ *************")

    print("í”Œë ˆì´ì–´ í„´")
    battle_players = player_turn(battle_players)
    if check_monsters(battle_players) == 0:
        print("ìŠ¹ë¦¬")
        break

    print("\nëª¬ìŠ¤í„° í„´")
    battle_players = monsters_turn(battle_players)
    if not check_player(battle_players[0]):
        print("íŒ¨ë°°")
        break
```

## ì´í‰

ë³µì¡í•œ í”„ë¡œê·¸ë¨ì€ ì•„ë‹ˆì§€ë§Œ, ì´ ê²Œì„ì„ ì½”ë”©í•˜ë©´ì„œ í´ë˜ìŠ¤ ì‚¬ìš©ë²•ì— ëŒ€í•´ì„œ í•œ ë²ˆ ë” ìƒê°í•´ë³´ê³  ì •ë¦¬ê°€ ëë˜ ì‹œê°„ì´ì—ˆë‹¤. ìœ„ì— ì§  ê²ƒ ì¤‘ ì‚¬ìš©ì ë° ëª¬ìŠ¤í„°ë“¤ ê°ì²´ì˜ ìƒíƒœ ë³€í™”ê°€ í•¨ìˆ˜ì•ˆì—ì„œ ì ìš©ë˜ê³  ë”°ë¡œ ê·¸ ê°ì²´ë“¤ì„ ë¦¬í„´í•´ì£¼ì§€ ì•Šì•˜ë‹¤. ê° ê°ì²´ë“¤ì´ ë³€í™”ëœ ê°’ë“¤ì„ ì˜ ê°€ì§€ê³  ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ°ë° ì´ëŠ” ì¢‹ê²Œ ì§  ê²ƒì´ ì•„ë‹ˆë¼ëŠ” ë§ì„ ë“£ê³  ì¦‰ì‹œ ë¦¬í„´ìœ¼ë¡œ ë‹¤ì‹œ ë°›ì•„ ìˆ˜ì •ëœ ê°ì²´ë¦¬ìŠ¤íŠ¸ë¥¼ ê¸°ì¡´ ê°ì²´ë¦¬ìŠ¤íŠ¸ì— ë‹¤ì‹œ ë„£ì–´ì¤¬ë‹¤.

```python
def monsters_turn(players):
    player = players[0]
    for i in range(1, len(players)):
        monster = players[i]
        action = random.randrange(3)
        if action == 0:
            monster.attack(player)
        elif action == 1:
            monster.heal()
        else:
            monster.stay()
        print()
    return players

# ...

battle_players = monsters_turn(battle_players)
```

ì˜ˆë¥¼ ë“¤ë©´ ì´ í•¨ìˆ˜ë‹¤. ì´ì „ì—ëŠ” ë¦¬í„´ê°’ì´ ì—†ì—ˆì§€ë§Œ ì§€ê¸ˆì€ ë¦¬í„´ í•´ì¤˜ì„œ ë‹¤ì‹œ ê¸°ì¡´ ë³€ìˆ˜ì— ë„£ì–´ì¤¬ë‹¤.  
ê²Œì„ ê°œë°œì„ í•´ë³´ì…¨ë˜ ë¶„ì˜ ì½”ë“œë¥¼ ë´¤ì—ˆëŠ”ë°, ê·¸ ì§§ì€ ì‹œê°„ì•ˆì— ë§ì€ ê±¸ ë‹´ì•„ë‘ì…¨ì—ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ì„œ ì‹œë†‰ì‹œìŠ¤ë¼ë˜ì§€, ê²Œì„ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹œì‘ì´ë¼ ë˜ì§€ ë“±ë“± ì •ë§ `ê²Œì„ ìš”ì†Œ`ë“¤ì„ ë§ì´ ì§‘ì–´ë„£ìœ¼ì…¨ì—ˆë‹¤. ë””í…Œì¼ë„ ë†“ì§€ ì•ŠëŠ” í”„ë¡œ ì •ì‹ ì— ê°ëª…ì„ ë°›ì•˜ë‹¤.

```toc

```
